@model POE_Claim_System.Models.Claim

@{
    ViewData["Title"] = "Lecturer Claim Submission";
}

<!-- Home Link -->
<div>
    <a href="@Url.Action("Index", "Home")" class="btn btn-primary">Home</a>
</div>

<div class="container mt-4">
    <h2 class="text-center">Claim Submission</h2>

    <form asp-action="SubmitClaim" asp-controller="Submit" method="post" enctype="multipart/form-data">
        <!-- Lecturer Section -->
        <div class="mt-4">
            <h4>--Lecturer--</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="lecturerName">Lecturer Name:</label>
                        <input asp-for="Person.FirstName" id="lecturerName" name="lecturerName" class="form-control" placeholder="Enter your first name" />
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="lecturerSurname">Lecturer Surname:</label>
                        <input asp-for="Person.LastName" id="lecturerSurname" name="lecturerSurname" class="form-control" placeholder="Enter your surname" />
                    </div>
                </div>
            </div>
        </div>

        <!-- Course Section -->
        <div class="mt-4">
            <h4>--Course--</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="courseCode">Course Code:</label>
                        <input asp-for="Course.CourseCode" id="courseCode" name="courseCode" class="form-control" placeholder="Enter course code" />
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="groupNumber">Group Number:</label>
                        <input asp-for="Course.Group" id="groupNumber" name="groupNumber" class="form-control" placeholder="Enter group number" />
                    </div>
                </div>
            </div>
        </div>

        <!-- Hours Section -->
        <div class="mt-4">
            <h4>--Hours--</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="totalHours">Total Hours Worked:</label>
                        <input asp-for="TotalHours" id="totalHours" name="totalHours" class="form-control" placeholder="Enter total hours worked" />
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="hourlyRate">Hourly Rate:</label>
                        <select asp-for="Rate" id="hourlyRate" name="hourlyRate" class="form-control">
                            <option value="200">200</option>
                            <option value="250">250</option>
                            <option value="300">300</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="totalFee">Total Fee:</label>
                        <input asp-for="TotalFee" id="totalFee" name="totalFee" class="form-control" readonly />
                    </div>
                </div>
            </div>
        </div>

        <!-- Documents Section -->
        <div class="mt-4">
            <h4>--Documents--</h4>
            <div class="form-group">
                <label for="uploadDocument">Choose a Document to Upload:</label>
                <input asp-for="DocumentPath" type="file" id="uploadDocument" name="uploadDocument" class="form-control-file" />
            </div>
        </div>

        <!-- Notes Section -->
        <div class="mt-4">
            <h4>--Notes--</h4>
            <div class="form-group">
                <label for="additionalNotes">Additional Notes:</label>
                <input asp-for="AdditionalNotes" id="additionalNotes" name="additionalNotes" class="form-control" placeholder="Add any notes" />
            </div>
        </div>

        <!-- Submit Button -->
        <div class="text-center mt-4">
            <button type="submit" class="btn btn-primary">Submit Claim</button>
        </div>
    </form>
</div>

<!-- JavaScript for calculating Total Fee -->
@section Scripts {
    <script type="text/javascript">
        document.getElementById('totalHours').addEventListener('input', calculateTotalFee);
        document.getElementById('hourlyRate').addEventListener('change', calculateTotalFee);

        function calculateTotalFee() {
            var hours = parseFloat(document.getElementById('totalHours').value) || 0;
            var rate = parseFloat(document.getElementById('hourlyRate').value) || 0;
            var totalFee = hours * rate;
            document.getElementById('totalFee').value = totalFee.toFixed(2);
        }
    </script>
}
